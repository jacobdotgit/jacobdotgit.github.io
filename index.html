<!---weather application-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Weather App">
    <title>Weather App</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="container text-center mt-5">
        <h1 class="mb-4">Weather App</h1>
        <div class="card p-4 shadow-lg">
            <h2 id="location">Fetching...</h2>
            <h3 id="temperature"></h3>
            <h4 id="humidity"></h4>
            <i id="weather-icon" class="bi bi-cloud" style="font-size: 50px;"></i>
        </div>
        <p class="mt-3">Data provided by <a href="https://open-meteo.com/" target="_blank">Open-Meteo</a></p>
    </div>
    <script>
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", function () {
                navigator.serviceWorker.register("/service-worker.js")
                    .then(registration => console.log("Service Worker registered"))
                    .catch(error => console.error("Service Worker registration failed:", error));
            });
        }
        
        document.addEventListener("DOMContentLoaded", function () {
            const API_URL = "https://api.open-meteo.com/v1/forecast?latitude=36.1682&longitude=-85.5016&current=temperature_2m,relative_humidity_2m&temperature_unit=fahrenheit&timezone=America%2FChicago";
            
            fetch(API_URL)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("location").textContent = "Cookeville, TN";
                    document.getElementById("temperature").textContent = `Temperature: ${data.current.temperature_2m}Â°F`;
                    document.getElementById("humidity").textContent = `Humidity: ${data.current.relative_humidity_2m}%`;
                    
                    let weatherIcon = document.getElementById("weather-icon");
                    if (data.current.temperature_2m > 80) {
                        weatherIcon.className = "bi bi-brightness-high-fill text-warning";
                    } else if (data.current.temperature_2m > 60) {
                        weatherIcon.className = "bi bi-cloud-sun text-primary";
                    } else {
                        weatherIcon.className = "bi bi-cloud-rain text-info";
                    }
                })
                .catch(error => console.error("Error fetching weather data:", error));
        });
    </script>
</body>
</html>